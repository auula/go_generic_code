# Generic programming in Go.


![](https://tva1.sinaimg.cn/large/e6c9d24egy1h0c3879fsyj21hc0u077g.jpg)

### Go1.18 æ³›å‹

æœ€è¿‘éšç€`Go 1.18`ç‰ˆæœ¬å‘å¸ƒäº†ï¼Œä¹Ÿå°±æ˜¯`Go`æ­£å¼æ”¯æŒ`generic`ç¼–ç¨‹äº†ï¼Œè¿™ä¸ªç‰ˆæœ¬çš„å‘å¸ƒå°†ä¼šç»™ä½ `Go`ç¼–ç¨‹å¼€å‘ä½“éªŒå¸¦æ¥å·¨å¤§å˜åŠ¨ï¼Œä¼°è®¡åé¢ä¸€äº›å¼€æºåº“ä¹Ÿä¼šé™†ç»­é‡æ„ï¼Œå¯¹`Go`è¯­è¨€ä»å‘å¸ƒè‡³ä»Šåº”è¯¥æ˜¯ä¸€æ¬¡æœ€å¤§æ”¹åŠ¨ã€‚

![å®˜æ–¹æ¨ç‰¹æ¶ˆæ¯](https://tva1.sinaimg.cn/large/e6c9d24egy1h0brghg5tuj20u00x077u.jpg)


### Generic Programming

åœ¨ä¹‹å‰çš„ç‰ˆæœ¬ä¸­`Go`è¯­è¨€æƒ³åšä¸€äº›é€šç”¨çš„æ•°æ®ç±»å‹çš„ç¼–ç¨‹æ“ä½œçš„æ—¶å€™ï¼Œå¯èƒ½å¤§éƒ¨åˆ†è¿˜æ˜¯ä½¿ç”¨`interface`æ¥è¿›è¡Œç¼–ç¨‹ï¼Œä½†æ˜¯ä»£ç é‡Œé¢ä¼šå‡ºç°å„ç§æ–­è¨€æ“ä½œï¼Œå¹¶ä¸”è¿˜æœ‰é¢„åˆ¤å‡ºå¯èƒ½éœ€è¦çš„æ•°æ®ç±»å‹ï¼Œé‡å¤ç¼–å†™ä¸€äº›åªæ˜¯`ç±»å‹`ä¸ä¸€æ ·çš„ä»£ç å—ï¼Œå¦‚ä¸‹å›¾å°±æ˜¯ä¹‹å‰åœ¨ç¤¾åŒºé‡Œé¢ç»å¸¸æµè¡Œä¸€å¼ å…³äº`Go`æ³›å‹ç¼–ç¨‹è°ƒä¾ƒå›¾ğŸ‘‡ğŸ»ï¼Œåªæ˜¯æ•°æ®å‚æ•°ç±»å‹ä¸ä¸€æ ·ï¼Œä½†æ˜¯å…·ä½“é€»è¾‘ä»£ç åˆæ˜¯ä¸€æ ·çš„ï¼Œä¼šä½¿å¾—å¼€å‘è€…æˆ‘ä»¬é‡å¤ç¼–å†™ä¸€äº›ä»£ç å—ï¼š

![åœ¨æ²¡æœ‰æ³›å‹ç¼–ç¨‹ä¹‹å‰çš„Go](https://tva1.sinaimg.cn/large/e6c9d24egy1h0brydd6vcg20f40gcdvr.gif)

å½“ç„¶ä¹‹å‰ç‰ˆæœ¬`Go`è¯­è¨€æ ‡å‡†åº“ä¸­æä¾›ä¸€ä¸ª`text/template`åŒ…ï¼Œè¿™ä¸ªåŒ…å¦‚æœå¼€å‘è€…è‡ªå·±èƒ½åŠ›å¾ˆå¼ºå¯ä»¥é€šè¿‡è‡ªå·±å†™ä¸€äº›ä»£ç å—ï¼Œç„¶åé€šè¿‡æ¨¡æ¿å¼•æ“å»ç”Ÿæˆç›¸å…³çš„ä»£ç ï¼Œä¸€äº›ç¬¬ä¸‰æ–¹çš„æ¡†æ¶ä»£ç ç”Ÿæˆå°±æ˜¯è¿™ä¸ªåŸç†ï¼Œä¾‹å¦‚å®˜æ–¹çš„`go generate`å‘½ä»¤ã€‚

å…¶å®æ³›å‹ç¼–ç¨‹ï¼Œå¯ä»¥ç®€å•ç†è§£æ¯•æ˜‡å‘æ˜çš„æ´»å­—å°åˆ·æœ¯ä¸€æ ·ï¼Œæˆ‘åœ¨ç¼–å†™ç¨‹åºçš„æ—¶å€™æŠŠä¸€äº›é€šç”¨çš„ä»£ç é€»è¾‘å†™å¥½ï¼Œåªæ˜¯å¯èƒ½è¿è¡Œçš„æ—¶å€™æ•°æ®ç±»å‹å¯èƒ½ä¸åŒè€Œå·²ï¼Œåªéœ€è¦å¼€å‘è€…å®šä¹‰å¥½é¢„è®¡æ•°æ®ç±»å‹ï¼Œç„¶åå…¶ä»–äº‹æƒ…äº¤ç»™`Go`ç¼–è¯‘å™¨ã€‚

![ç±»ä¼¼äºåŸç†](https://tva1.sinaimg.cn/large/e6c9d24egy1h0bsmrbukyg20b706bqv5.gif)

æˆ‘æœ¬äººä¹Ÿæ˜¯å¯¹`Go`æ³›å‹ç¼–ç¨‹ä¹Ÿæ˜¯å¾ˆæœŸå¾…ï¼Œåœ¨`2020`çš„æ—¶å€™æˆ‘åœ¨å®ç°ä¸€äº›é€šç”¨çš„ç®—æ³•å’Œæ•°æ®ç»“æ„æ—¶å°±é‡åˆ°äº†ä¸€äº›é‡å¤ä»£ç é€»è¾‘çš„é—®é¢˜ï¼Œå¹¶ä¸”å‘å®˜æ–¹è¯¢é—®è¿‡ï¼Œå½“æ—¶å®˜æ–¹ç»™äº†æˆ‘ä¸€äº›æ³›å‹çš„è®¾è®¡è‰æ¡ˆï¼Œåé¢è¿™ä¸ªè‰æ¡ˆä¸€ç›´åœ¨æ”¹åŠ¨ï¼Œç›´åˆ°ç°åœ¨ç»ˆäºå‘å¸ƒäº†ã€‚

![issue](https://tva1.sinaimg.cn/large/e6c9d24egy1h0bssx0finj211l0u0q6z.jpg)

- [https://go.googlesource.com/proposal/+/refs/heads/master/design/43651-type-parameters.md](https://go.googlesource.com/proposal/+/refs/heads/master/design/43651-type-parameters.md)

### ä½“éªŒä¸€æŠŠæ³›å‹

é¦–å…ˆéœ€è¦ä½¿ç”¨æ³›å‹çš„è¯ï¼Œä½ çš„`Go`è¯­è¨€ç‰ˆæœ¬éœ€è¦å‡çº§åˆ°`1.18`è¿™ä¸ªè¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼Œå¦‚ä¸‹å›¾æˆ‘å·²ç»å‡çº§åˆ°è¿™ä¸ªç‰ˆæœ¬äº†ã€‚

![å‡çº§åˆ°Go1.8](https://tva1.sinaimg.cn/large/e6c9d24egy1h0bt5i9kanj21mc0ikwhg.jpg)

ä¸‹é¢æˆ‘å†™ä¸€æ®µå†’æ³¡æ’åºçš„ä»£ç ï¼Œä½†æ˜¯è¿™ä¸ª`bubbleSort`å‡½æ•°å‚æ•°ç±»å‹åªèƒ½ä¸º`int64`ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬åªèƒ½ä¼ å…¥ä¸€ä¸ªç±»å‹ä¸º`int64`åˆ‡ç‰‡ï¼Œå¦‚æœæˆ‘éœ€è¦ä¼ å…¥å…¶ä»–ç±»å‹çš„æ•°æ®ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦é‡æ–°å†™ä¸€ä¸ªå‡½æ•°é€»è¾‘æ˜¯ç›¸åŒçš„ä»£ç ç‰‡æ®µä½†æ˜¯ç±»å‹åˆä¸åŒï¼Œè¿™å°±æ˜¯æ²¡æœ‰æ³›å‹å¸¦æ¥çš„ç—›è‹¦ã€‚

```go
package main

import "fmt"

func bubbleSort(sequence []int64) {
    for i := 0; i < len(sequence)-1; i++ {
        for j := 0; j < len(sequence)-1-i; j++ {
            if sequence[j] > sequence[j+1] {
                sequence[j], sequence[j+1] = sequence[j+1], sequence[j]
            }
        }
    }
}

func main() {
    var sequence = []int64{12, 11, 100, 99, 88, 23}
    bubbleSort(sequence)
    fmt.Println(sequence)
}
```
æœ‰æ—¶å€™åœ¨å¼€å‘çš„æ—¶å€™ï¼Œä¸ºäº†ç»Ÿä¸€ä½¿ç”¨ä¸€ä¸ªå‡½æ•°å¤„ç†ï¼Œæ²¡æœ‰æ³›å‹æƒ…å†µä¸‹ï¼Œéœ€è¦å¯¹ç±»å‹è¿›è¡Œæ–­è¨€å¤„ç†ï¼Œä¾‹å¦‚åœ¨æŸç§æƒ…å†µä¸‹å±…ç„¶å†™å‡ºä¸‹é¢è¿™æ ·çš„ä»£ç ï¼š

```go
func bubbleSortByInterface(sequence []interface{}) {
    switch sequence[0].(type) {

    case int64:

        var arr []int64
        for _, val := range sequence {
            arr = append(arr, val.(int64))
        }

        for i := 0; i < len(arr)-1; i++ {
          for j := 0; j < len(arr)-1-i; j++ {
                if arr[j] > arr[j+1] {
                    arr[j], arr[j+1] = arr[j+1], arr[j]
                }
          }
        }
        fmt.Println(arr)
    case float64:

        var arr []float64
        for _, val := range sequence {
            arr = append(arr, val.(float64))
        }

        for i := 0; i < len(arr)-1; i++ {
          for j := 0; j < len(arr)-1-i; j++ {
              if arr[j] > arr[j+1] {
                arr[j], arr[j+1] = arr[j+1], arr[j]
              }
          }
        }
        fmt.Println(arr)
    default:
        panic("type not support!!!")
    }
}
```

ç„¶åå°±å¯ä»¥ä½¿ç”¨`interface`ä¸€æŠŠæ¢­äº†ï¼š

```go
func main() {
    var sequence = []interface{}{12.12, 1.1, 99.4, 99.2, 88.8, 2.3}
    bubbleSortByInterface(sequence)
    // [1.1 2.3 12.12 88.8 99.2 99.4]
}
```
ä½†æ˜¯è¿™ç§ä¸€ä¸æ³¨æ„å°±å‡ºç°å„ç§`bug`å¹¶ä¸”ä»£ç é‡ä¸Šå»å°±å¾ˆéš¾é˜…è¯»ä»£ç ã€‚

### æ³›å‹ç‰ˆæœ¬

æ¥ä¸‹æ¥å°±æ˜¯`Go Generic`çš„ä½¿ç”¨ä»‹ç»äº†ï¼Œ`Go`æ”¯æŒæ³›å‹å‡½æ•°å’Œæ³›å‹ç±»å‹ï¼Œé¦–å…ˆæˆ‘ä»¬çœ‹ä¸€ä¸‹æ³›å‹å‡½æ•°ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªæ ‡å‡†çš„æ³›å‹å‡½æ•°æ ‡å‡†æ¨¡æ¿ï¼š

```go
// GenericFunc ä¸€ä¸ªæ ‡å‡†çš„æ³›å‹å‡½æ•°æ¨¡æ¿
func GenericFunc[T any](args T) {
	  // logic code
}
```
å‡½æ•°ç­¾åé‡Œé¢å¤šäº†`[T any]`éƒ¨åˆ†ï¼Œè¿™å°±æ˜¯`Go`æ³›å‹çš„å‚æ•°åˆ—è¡¨ï¼Œå…¶ä¸­`T`å°±æ˜¯å‚æ•°ï¼Œ`any`ä¸ºå‚æ•°çš„çº¦æŸã€‚

![ä¸€ä¸ªæ³›å‹å‡½æ•°](https://tva1.sinaimg.cn/large/e6c9d24egy1h0c0ok6eghj218p0u0tbo.jpg)

è·‘èµ·æ¥è¿™ä¸ªæ³›å‹å‡½æ•°ï¼Œå¯ä»¥æ­£å¸¸è¿è¡Œï¼Œä½†æ˜¯åˆ«æ€¥ï¼Œæˆ‘ä»¬å†™ä¸€ä¸ªæ³›å‹åŠ æ³•å‡½æ•°è¯•è¯•ï¼š

![å¯ä»¥çœ‹åˆ°æŠ¥é”™äº†](https://tva1.sinaimg.cn/large/e6c9d24egy1h0c1c2xiqhj21520b0mxx.jpg)

è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå¯ä»¥çœ‹åˆ°æç¤ºè¯´ï¼š`Invalid operation: a + b (the operator + is not defined on []T)`ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬çš„æ³›å‹å£°æ˜`T`çš„ç±»å‹çº¦æŸåœ¨ä¸‹é¢çš„é€»è¾‘ä»£ç é‡Œé¢è¿›è¡Œæ•°å€¼è¿ç®—ç¬¦æ“ä½œï¼Œå¦‚æœå¤§å®¶å†™è¿‡`Java`é‡Œé¢çš„æ³›å‹éƒ½çŸ¥é“å¦‚æœåšæ•°å€¼æ¯”è¾ƒæ“ä½œï¼Œé‚£æˆ‘ä»¬çš„æ³›å‹ç±»å‹å‚æ•°è¿˜è¦å†™æˆ`<T extends Comparable>`æ‰èƒ½æ­£å¸¸å·¥ä½œï¼Œè¿™å°±æ˜¯å¯¹ä¸èƒ½è¿›è¡Œæ•°å€¼è¿ç®—ç¬¦æ“ä½œçš„ç±»å‹è¿›è¡Œè§„é¿æ“ä½œï¼ŒåŒç†`Go`é‡Œé¢ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚

ä¸ºæ­¤`Go`è¯­è¨€åœ¨æ³›å‹ä¸­å¼•å…¥ä¸€ä¸ªå«`ç±»å‹é›†åˆ`æ¦‚å¿µï¼Œä¸‹é¢æˆ‘ä»¬æ”¹é€ ä¸€ä¸‹ä»£ç ï¼š

```go
// çº¦æŸå‚æ•°ç±»å‹åªèƒ½ä¸ºæ•°å€¼ç±»å‹
func add[T int64 | float64](a, b T) T {
	  return a + b
}

func main() {
    // 1 + 2 = 3
    fmt.Println("1 + 2 =",add[int64](1, 2))
    // 6.1 + 0.5 = 6.6
    fmt.Println("6.1 + 0.5 =",add[float64](6.1, 0.5))
}
```
å¯ä»¥çœ‹åˆ°ä¸Šé¢å¯ä»¥æ­£å¸¸è¿è¡Œå¾—åˆ°æ­£ç¡®çš„ç»“æœï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªé—®é¢˜å¦‚æœæˆ‘ä»¬æ˜¯é€šè¿‡å†…ç½®çš„æ•°æ®å–ä¸€ä¸ªç±»å‹åˆ«åæ€ä¹ˆåŠï¼Ÿä¹Ÿå°±æ˜¯ä»¥å‰æˆ‘é€šè¿‡`type xx int8`è¿™æ ·çš„ä»£ç ï¼Œæ³›å‹è¯¥å¦‚ä½•é™åˆ¶å‘¢ï¼Ÿå®˜æ–¹æ³›å‹é‡Œé¢æ˜ å…¥ä¸€ä¸ª`~`å†…ç½®ç¬¦å·ï¼Œè¿™ä¸ªç¬¦å·ä¼šé™åˆ¶æ³›å‹å‚æ•°åº•å±‚æ˜¯åŸºäºæŸç§ç±»å‹å®ç°çš„å˜ä½“æˆ–è€…åˆ«åï¼Œä¾‹å¦‚ä¸‹é¢æˆ‘è¿™æ®µä»£ç ï¼š

```go
type MyInt int8

// æ³¨æ„çœ‹~int8
func add[T int64 | float64 | ~int8](a, b T) T {
	  return a + b
}

func main() {
    // é™åˆ¶åº•å±‚æ•°æ®ç±»å‹
    fmt.Println("MyInt 1 + 2 = ",add[MyInt](1,2))
}
```

å¥½äº†ï¼Œé€šè¿‡ä¸Šé¢ä¸€é€šæ“ä½œï¼Œå°±çŸ¥é“äº†`Go`æ³›å‹æ€ä¹ˆç©äº†ï¼Œä¸‹é¢æˆ‘æŠŠåˆšåˆšæœ€å¼€å§‹é‚£ä¸ªæ’åºç®—æ³•é€šè¿‡æ³›å‹æ”¹å†™ä¸€ä¸‹å¦‚ä¸‹ï¼š


```go
func bubbleSortByGeneric[T int64 | float64](sequence []T) {
    for i := 0; i < len(sequence)-1; i++ {
        for j := 0; j < len(sequence)-1-i; j++ {
            if sequence[j] > sequence[j+1] {
                sequence[j], sequence[j+1] = sequence[j+1], sequence[j]
            }
        }
    }
}
```

å…¶å®è¿™ä¸ªæ’åºç®—æ³•å·²ç»æ”¹å†™æˆäº†æ³›å‹ç‰ˆæœ¬ï¼Œå¹¶ä¸”çº¦æŸäº†å‚æ•°çš„æ•°æ®ç±»å‹ä¹Ÿå¯ä»¥è®¤ä¸ºç±»å‹çš„è¡Œä¸ºç‰¹å¾çº¦æŸï¼š

```go
func main() {
    var sequence1 = []int64{100, 23, 14, 66, 78, 12, 8}
    bubbleSortByGeneric(sequence1)
    fmt.Println(sequence1)
    var sequence2 = []float64{120.13, 2.3, 112.3, 66.5, 78.12, 1.2, 8}
    bubbleSortByGeneric(sequence2)
    fmt.Println(sequence2)
}
````

ç»“æœä¸ºä¸‹å›¾ï¼š

![è¿è¡Œç»“æœ](https://tva1.sinaimg.cn/large/e6c9d24egy1h0c40vlvtaj21k00juwio.jpg)


ä¸Šé¢ç¼–å†™çš„æ³›å‹ç¤ºä¾‹éƒ½æ˜¯åŸºäºæ³›å‹å‡½æ•°è¿›è¡Œçš„ï¼Œä½†æ˜¯æˆ‘ä»¬æœ‰æ—¶å€™ç¼–ç¨‹éœ€è¦å®šä¹‰ä¸€äº›å¤åˆæ•°æ®ç±»å‹çš„æ•°æ®ç»“æ„ï¼Œä¾‹å¦‚ä¸€ä¸ª`stack`ç»“æ„å°±æ˜¯å†…éƒ¨çš„`value`å€¼ç±»å‹ä¸ä¸€æ ·ï¼Œå¦‚ä¸‹çš„ä»£ç ï¼š

```go
type Element interface {
	  int64 | float64 | string
}

type Stack[V Element] struct {
    size  int
    value []V
}
```

ä¸Šé¢çš„ä»£ç æˆ‘ä»¬å°±é€šè¿‡æ³›å‹ç¼–ç¨‹å®šä¹‰ä¸€ä¸ª`value`ç±»å‹åªèƒ½ä¸º`Element`ç±»å‹é›†åˆçš„`Stack`ç»“æ„ï¼Œ`Stack[V Element]`çš„ä¸­æ‹¬å·é‡Œé¢çš„å°±æ˜¯æ³›å‹çº¦æŸæ¡ä»¶ã€‚

æ¥ç€ç»™`Stack`æ·»åŠ è¡Œä¸ºæ–¹æ³•ï¼Œæ–¹æ³•ç­¾åä¸Šçš„`s *Stack[V]`å°±ä»£è¡¨æ˜¯ä¸€ä¸ªæ³›å‹çš„`Stack`ç»“æ„ã€‚

```go
func (s *Stack[V]) Push(v V) {
    s.value = append(s.value, v)
    s.size++
}

func (s *Stack[V]) Pop() V {
    e := s.value[s.size-1]
    if s.size != 0 {
        s.value = s.value[:s.size-1]
        s.size--
    }
    return e
}
```

ä½¿ç”¨å°±å’Œå‡½æ•°æ³›å‹å·®ä¸å¤šï¼Œåœ¨ä¸­æ‹¬å·é‡Œé¢æŒ‡å®šæ³›å‹ç±»å‹ï¼š

```go
func main() {

    // INT STACK
    strS := Stack[int64]{}
    strS.Push(1)
    strS.Push(2)
    strS.Push(3)
    fmt.Println(strS.Pop())
    fmt.Println(strS.Pop())
    fmt.Println(strS.Pop())

    // FLOAT STACK
    floatS := Stack[float64]{}
    floatS.Push(1.1)
    floatS.Push(2.2)
    floatS.Push(3.3)
    fmt.Println(floatS.Pop())
    fmt.Println(floatS.Pop())
    fmt.Println(floatS.Pop())

}
```

![è¿è¡Œç»“æœ](https://tva1.sinaimg.cn/large/e6c9d24egy1h0cte4bxnuj21q60r40x7.jpg)

å¦å¤–ä¸€ç§å°±æ˜¯ç‰¹æ®Šæ¯”è¾ƒçº¦æŸï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢æˆ‘æ‰€çš„`Java`é‡Œé¢çš„`<T extends Comparable>`ï¼Œæ¯”å¦‚æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦é™åˆ¶æŸä¸ªå‚æ•°æ˜¯å¦å¯ä»¥æ¯”è¾ƒæˆ–è€…æ”¯æŒæŸç‰¹å¾æŸä¸ªè¡Œä¸ºï¼Œä¾‹å¦‚å¯æ¯”è¾ƒ`comparable`å…³é”®å­—ï¼š

```go
func SumNumbers[K comparable, V Number](m map[K]V) V {
    var s V
    for _, v := range m {
        s += v
    }
    return s
}

func whoisMin[T Number](a, b T) T {
    if a < b {
       return a
    }
    return b
}

func main() {
    // Initialize a map for the integer values
    ints := map[string]int64{
        "first":  34,
        "second": 12,
    }

    // Initialize a map for the float values
    floats := map[int8]float64{
        -128: 35.98,
        127:  26.99,
    }

    fmt.Printf("Generic Sums with Constraint: %v and %v\n",
        SumNumbers(ints),
        SumNumbers(floats))

    fmt.Println(whoisMin[int64](100, 1000))
}
```

ä¸Šé¢çš„`comparable`å…³é”®å­—å°±å¯ä»¥é™åˆ¶`map`çš„`Key`çš„ç±»å‹æ˜¯å¦ä¸ºå¯æ¯”è¾ƒçš„ï¼Œè¯´åˆ°è¿™é‡Œæˆ‘ä¼°è®¡è¿‡ä¸äº†å¤šä¹…æŸäº›å·ç‹è‚¯å®šåˆè¦è·‘å»åˆ†æä¸€ä¸‹`comparable`åº•å±‚å®ç°äº†ï¼Œæˆ‘å…¶å®æŒºåæ„Ÿè¿™æ ·çš„å·ç‹çš„ï¼Œæˆ‘ä¸çŸ¥é“æŸäº›æ²¡äº‹åšçš„å°±è·‘å»åˆ†æä¸€ä¸‹åº•å±‚ä»£ç å®ç°å·ç‹æœ‰ä»€ä¹ˆä¼˜è¶Šæ„Ÿï¼Ÿï¼Ÿï¼Ÿé™¤äº†é¢è¯•å…«è‚¡ä¸€ä¸‹ï¼Œéš¾åˆ°ä½ è¦å»å®ç°`GO`ç¼–è¯‘å™¨å—ï¼Ÿ


ä¸ç”¨åˆ†æäº†ï¼Œæˆ‘é¡ºå¸¦è¯´ä¸€ä¸‹ï¼Œå…¶å®`comparable`åº•å±‚å®ç°ä¹Ÿå°±æ˜¯åŸºäºä¸€ä¸ª`interface`çš„ï¼Œåªæ˜¯é‡Œé¢æœ‰ä¸€ä¸ªè¡Œä¸ºæ–¹æ³•è€Œå·²ï¼Œ`Go`å†…ç½®çš„å¯æ¯”è¾ƒæ•°æ®ç±»å‹åœ¨æ›´æ–°ä¹‹åä¼šé»˜è®¤å®ç°`comparable`ï¼Œè¿™ä¸ªå¦‚æœå¤§å®¶ä½¿ç”¨å…¶ä»–ç¼–ç¨‹è¯­è¨€çš„æ³›å‹ï¼Œæƒ³ä¸€æƒ³ä¹Ÿå°±çŸ¥é“æ€ä¹ˆå®ç°äº†ï¼Œå½“å‰ä¸€äº›å¼€å‘é›†æˆç¯å¢ƒè¿˜æ²¡æœ‰æ›´å¥½æ”¯æŒï¼Œå¯èƒ½æ ¼å¼åŒ–ä»£ç å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œä¸è¿‡å¯ä»¥å¿½ç•¥ï¼Œæ³›å‹ç¨‹åºå†™èµ·æ¥è¿˜æ˜¯æŒºæµç•…çš„ï¼Œå…¶å®æˆ‘æ„Ÿè§‰æ³›å‹å‚æ•°æŒ‡å®šçš„æ—¶å€™ä½¿ç”¨`<T>`æ¯”è¾ƒå¥½ä¸€ç‚¹ï¼Œç”¨`[T]`è¿™ç§åœ¨æŸç§æƒ…å†µä¸‹ç»™äººä¸€ç§ä»`map`é‡Œé¢è¿è¡Œå‡½æ•°è°ƒç”¨ä¸€æ ·ï¼Œä¸è¿‡è¿™ä¸ªæˆ‘çŒœæµ‹å¯èƒ½å’Œåº•å±‚å®ç°æœ‰ç‚¹å…³ç³»ï¼ŒæŠŠç”Ÿæˆçš„é€šç”¨ä»£ç æ”¾åˆ°`map`é‡Œé¢ï¼Œè€Œæ³›å‹çº¦æŸå°±æ˜¯`map`çš„é”®ï¼Œå¥½äº†æœ¬ç¯‡å…³äº`go`æ³›å‹æ–‡ç« å°±å†™åˆ°è¿™é‡Œäº†ã€‚

**æœ¬æ–‡ç« å®ä¾‹ä»£ç ä»“åº“:**

- [https://github.com/auula/go_generic_code](https://github.com/auula/go_generic_code)
